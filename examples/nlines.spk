#!/usr/bin/env spike

main() {
    var stream, line, i;
    
    stream = FileStream.new().open("README", "r");
    if (stream == null) {
        stderr.puts("Cannot open file!\n");
        return 1;
    }
    for (i = 1; (line = stream.gets(160)) != null; ++i) {
        stdout.printf("%04d: %s", i, line);
    }
    stream.close();
    return 0;
}
